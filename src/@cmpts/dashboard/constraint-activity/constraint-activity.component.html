<div class="card">
  <div class="card-header">
    <img src="/assets/icons/constraint.png" />
    <span>最近20条约束</span>
    <div style="display: flex; flex: 1;"></div>
    <button mat-mini-fab color="primary" (click)="onRefeshClick()">
      <mat-icon>autorenew</mat-icon>
    </button>
  </div>
  <div class="card-body">
    <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let element" style="min-width: 4rem;">
          <span *ngIf="element.id" style="color: #fee2e2;">{{element.id}}</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef> 类别 </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.category === '1'" style="color: #a5f3fc;">
            账号&nbsp;&nbsp;- >&nbsp;&nbsp;所有系统
          </span>
          <span *ngIf="element.category === '2'" style="color: #fde68a;">
            账号&nbsp;&nbsp;- >&nbsp;&nbsp;某系统
          </span>
          <span *ngIf="element.category === '3'" style="color: #a7f3d0;">
            程序&nbsp;&nbsp;- >&nbsp;&nbsp;功能
          </span>
          <span *ngIf="element.category === '4'" style="color: #f9a8d4;">
            系统&nbsp;&nbsp;- >&nbsp;&nbsp;角色&nbsp;&nbsp;
          </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="method">
        <th mat-header-cell *matHeaderCellDef> 方式 </th>
        <td mat-cell *matCellDef="let element" style="width: 4rem;">
          <span *ngIf="element.method === '1'" style="color: #93c5fd;">禁用</span>
          <span *ngIf="element.method === '2'" style="color: #c4b5fd;">锁定</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="expiredAt">
        <th mat-header-cell *matHeaderCellDef> 到期时间 </th>
        <td mat-cell *matCellDef="let element" style="width: 6rem;">
          <span *ngIf="element.expiredAt">{{element.expiredAt| date:'yyyy-MM-dd'}}</span>
          <span *ngIf="!element.expiredAt">- - -</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef> 客户账号 </th>
        <td mat-cell *matCellDef="let element" style="color: #a5f3fc;"> {{element.userName}}&nbsp;&nbsp; </td>
      </ng-container>
      <ng-container matColumnDef="sysName">
        <th mat-header-cell *matHeaderCellDef> 系统名称 </th>
        <td mat-cell *matCellDef="let element" style="min-width: 5rem;">
          <span *ngIf="element.sysName" style="color: #fee2e2;">{{element.sysName}}</span>
          <span *ngIf="!element.sysName">- - -</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="functionName">
        <th mat-header-cell *matHeaderCellDef> 功能/角色 </th>
        <td mat-cell *matCellDef="let element" style="color: #ecfccb;"> {{element.functionName}}&nbsp;&nbsp; </td>
      </ng-container>
      <ng-container matColumnDef="origin">
        <th mat-header-cell *matHeaderCellDef> 约束来源 </th>
        <td mat-cell *matCellDef="let element">
          <span matTooltip={{element.origin}}>{{element.origin|clip:10}} </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef> 创建时间 </th>
        <td mat-cell *matCellDef="let element"> {{element.createdAt | date:'yyyy-MM-dd HH:mm:ss'}} </td>
      </ng-container>
      <ng-container matColumnDef="remark">
        <th mat-header-cell *matHeaderCellDef> 备注 </th>
        <td mat-cell *matCellDef="let element">
          <span matTooltip={{element.remark}}>{{element.remark|clip:8}} </span>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" class="table-header-row"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="table-element-row"></tr>
    </table>
  </div>
</div>