<div mat-dialog-title class="header">
  <h3>{{title}}</h3>
</div>
<form [formGroup]="form">
  <mat-form-field appearance="outline">
    <mat-label>约束类别</mat-label>
    <mat-select formControlName="category" (valueChange)="onCategeryChange($event)">
      <mat-option *ngFor="let item of categoryOptions" [value]="item.key">{{item.value}}</mat-option>
    </mat-select>
    <mat-hint>是否添加约束</mat-hint>
    <mat-icon matSuffix>category</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>约束方式</mat-label>
    <mat-select formControlName="method" (valueChange)="onMethodChange($event)">
      <mat-option value="1">禁用</mat-option>
      <mat-option value="2">锁定</mat-option>
    </mat-select>
    <mat-hint>禁用、锁定</mat-hint>
    <mat-icon matSuffix>category</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>系统名称</mat-label>
    <mat-select formControlName="sysId">
      <mat-option *ngFor="let item of sysOptions" [value]="item.key">{{item.value}}</mat-option>
    </mat-select>
    <mat-hint *ngIf="sysEnabled">若不填，禁用全部系统</mat-hint>
    <mat-icon matSuffix>gamepad</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>锁定过期时间</mat-label>
    <input matInput [matDatepicker]="picker1" formControlName="expiredAt">
    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker #picker1 [disabled]="!expiredAtEnabled"></mat-datepicker>
    <mat-hint *ngIf="expiredAtEnabled">若不填，按禁用处理</mat-hint>
  </mat-form-field>
  <mat-form-field appearance="outline" class="remark">
    <mat-label>备注</mat-label>
    <textarea matInput formControlName="remark" rows="4"></textarea>
  </mat-form-field>
</form>
<div mat-dialog-actions align="end">
  <button mat-button color="warn" (click)="onCloseClick()">取消</button>
  <button mat-button color="accent" (click)="onSaveClick()" [disabled]="!form.valid">添加</button>
</div>